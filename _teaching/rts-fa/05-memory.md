---
title: "مدیریت حافظه در سیستم‌عامل‌های بلادرنگ"
collection: teaching
type: "Course Module"
permalink: /teaching/rts-fa/memory-management
course: "سیستم‌های بلادرنگ"
order: 4
mathjax: true
use_math: true
layout: courserst
lang: fa
alt_lang: en
alt_url: /teaching/rts/memory-management
---

# مدیریت حافظه در سیستم‌عامل‌های بلادرنگ

مدیریت حافظه یکی از بخش‌های حیاتی در سیستم‌عامل‌های بلادرنگ (RTOS) است.  
از آن‌جایی که این سیستم‌ها باید **زمان‌بندی قابل پیش‌بینی** و **استفاده بهینه از منابع** داشته باشند، نحوه‌ی اختصاص و مدیریت حافظه تأثیر مستقیمی بر عملکرد سیستم دارد.  

---

## Swapping (جابجایی)

- **Swapping** روشی ساده است که در آن سیستم‌عامل پردازه‌ها را بین حافظه اصلی و دیسک جابجا می‌کند تا چند پردازه به صورت همزمان قابل اجرا باشند.  
- برخی برنامه‌ها به صورت **Memory Resident** (دائماً در حافظه) باقی می‌مانند.  
- وقتی پردازه‌ای جابجا می‌شود، وضعیت آن به صورت **suspended (معلق)** ذخیره می‌گردد و **context (متن اجرای آن)** نگهداری می‌شود.  
- بعداً توسط **dispatcher** این context دوباره بارگذاری شده و پردازه از همان نقطه ادامه می‌دهد.  

![جای‌گذاری تصویر: فرایند Swapping](path-to-image)

---

## Overlay (روپوش حافظه‌ای)

- **Overlay** تکنیکی است که امکان اجرای برنامه‌ای بزرگ‌تر از ظرفیت حافظه فیزیکی را فراهم می‌کند.  
- در این روش بخشی ثابت از برنامه همیشه در حافظه می‌ماند و سایر بخش‌ها (کد یا داده) هنگام نیاز بارگذاری می‌شوند.  
- این روش باعث افزایش فضای آدرس‌دهی می‌شود، اما چون نیاز به بارگذاری از دیسک دارد، **تاخیر ایجاد می‌کند**.  
- در سیستم‌های بلادرنگ، استفاده از Overlay می‌تواند عملکرد را تحت تاثیر منفی قرار دهد.  

![جای‌گذاری تصویر: تکنیک Overlay](path-to-image)

---

## مدیریت صفحه/بلوک (Page/Block Management)

- در این روش فضای کاربر به بخش‌های ثابت (صفحه یا بلوک) تقسیم می‌شود.  
- این کار امکان نگهداری همزمان بیش از یک پردازه در حافظه را فراهم می‌کند.  
- یکی از روش‌های پرکاربرد برای افزایش بهره‌وری حافظه در سیستم‌هاست.  

![جای‌گذاری تصویر: مدیریت صفحه/بلوک](path-to-image)

---

## مشکل Fragmentation (تکه‌تکه شدن حافظه)

- **Fragmentation** زمانی رخ می‌دهد که حافظه به قطعات کوچک و غیرقابل استفاده تقسیم شود.  
- این مسئله در سیستم‌های بلادرنگ بسیار حساس است چون زمان‌بندی باید قابل پیش‌بینی باشد.  
- راهکار معمول **Compaction (فشرده‌سازی حافظه)** است که قطعات آزاد را یکپارچه می‌کند.  
- اما این روش هزینه‌بر است و برخی بلوک‌ها مثل هسته سیستم‌عامل (Kernel) غیرقابل جابجایی‌اند.  

![جای‌گذاری تصویر: حافظه قبل و بعد از Compaction](path-to-image)

---

## نکات کلیدی

- **Swapping** امکان اجرای چندپردازه‌ای را می‌دهد اما نیازمند مدیریت دقیق context است.  
- **Overlay** اجازه اجرای برنامه‌های بزرگ‌تر از حافظه را می‌دهد اما برای سیستم‌های بلادرنگ مناسب نیست.  
- **Page/Block Management** با تقسیم‌بندی حافظه بهره‌وری را افزایش می‌دهد.  
- **Fragmentation** یکی از چالش‌های بزرگ است و تنها با فشرده‌سازی می‌توان تا حدی بر آن غلبه کرد.  

---

<div class="lesson-nav" style="display:flex; justify-content:space-between; margin-top:2em;">
  <a class="btn btn--primary" href="{{ '/teaching/rts-fa/task-management' | relative_url }}">⬅︎ قبلی: مدیریت تسک‌ها و حافظه</a>
</div>

<div class="lesson-nav" style="display:flex; justify-content:space-between; margin-top:2em;">
  <a class="btn btn--primary" href="{{ '/teaching/rts-fa/scheduling' | relative_url }}">بعدی: زمان‌بندی در سیستم‌های بلادرنگ ➡︎</a>
</div>
